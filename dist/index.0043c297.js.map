{"mappings":"AEEO,MAAM,EAAgB,KAC3B,IAAM,EAAW,SAAS,cAAc,CAAC,aACzC,CAAA,EAAS,SAAS,CAAG,GACrB,EAAS,SAAS,CAAG,CAAC;;;+BAGO,EAAE,cAAc,IAAI,CAAC;;;;;;;;;;;;;;;;;;;EAmBlD,CAAC,CACD,WAAW,KACT,AAAA,GACF,EAAG,IACL,EC/Ba,EAAsB,CAAC,EAAI,IACtC,AACG,GAAU,IAAM,GAAM,IACtB,GAAU,GAAK,GAAM,KACrB,GAAU,IAAM,GAAM,GAEhB,OAEN,GAAU,IAAM,GAAM,IACtB,GAAU,GAAK,GAAM,KACrB,GAAU,IAAM,GAAM,GAEhB,SAEA,OEVE,EAAa,KACxB,IAAM,EAAW,SAAS,cAAc,CAAC,aACzC,CAAA,EAAS,SAAS,CAAG,GACrB,EAAS,SAAS,CAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CxB,CAAC,CACC,WAAW,KACT,AAAA,GACF,EAAG,KACH,IAAM,EAAa,SAAS,cAAc,CAAC,eACrC,EAAiB,SAAS,cAAc,CAAC,kBAC5B,CAAA,EAAe,aAAa,CAC7C,oCACA,KAAK,CAEP,EAAW,gBAAgB,CAAC,SAAU,GACtC,EAAe,gBAAgB,CAAC,SAAU,EAC5C,ED5Da,EAAe,KAC1B,IAEI,EAIA,EACA,EAPA,EAAe,CAAC,cAAc,EAAE,CAChC,EAAgB,CAAC,cAAc,MAAM,CAQnC,EAAgB,SAAS,cAAc,CAAC,cACxC,EAAe,SAAS,cAAc,CAAC,aACvC,EAAY,SAAS,cAAc,CAAC,WACpC,EAAkB,SAAS,cAAc,CAAC,iBAC1C,EAAU,SAAS,cAAc,CAAC,YAClC,EAAW,SAAS,cAAc,CAAC,aACnC,EAAU,SAAS,cAAc,CAAC,YAElC,EAAW,AAAC,IAChB,EAAc,GAAG,CAAG,EACpB,EAAc,KAAK,CAAG,EACtB,EAAmB,EAEnB,EAAa,GAAG,CAlBE,IAmBlB,EAAa,KAAK,CAnBA,IAoBlB,EApBkB,IAqBlB,EAAW,CAAA,CACb,EAEM,EAAe,IACZ,KAAK,KAAK,CAAE,AAAA,CAAA,KAAK,MAAM,GAAK,EAAA,EAAO,IAGtC,EAAgB,KACpB,IAAI,EAAa,EAAgB,IAC7B,EAAa,GACf,CAAA,EAAa,CAAA,EAEf,GAAmB,EACnB,EAAa,KAAK,CAAG,CACvB,EAEM,EAAe,KACnB,IAAI,EAAY,AArCG,GAqCY,IAC/B,GAAoB,EACpB,EAAc,KAAK,CAAG,EACtB,IACA,GACF,EAEM,EAAiB,KACrB,IAAI,EAAY,GAAqB,IACrC,GAAoB,EACpB,EAAc,KAAK,CAAG,EACtB,IACI,MAGF,IACA,IAEJ,EAEM,EAAa,KACb,GACF,CAAA,GAAmB,GAAK,GAAxB,GA5DgB,KA8Dd,CAAA,EA9Dc,GA8Dd,EAGA,EAAa,KAAK,CAAG,EAEvB,EAAW,CAAA,EACX,IACA,KAEA,AAAA,EAAmB,uBAAwB,OAE/C,EAEM,EAAW,IACf,AAAI,GAAoB,GAAK,GAAmB,GAC9C,AAAA,EAAmB,WAAY,QAC/B,EAAS,GACF,CAAA,GACE,GAAmB,GAAK,GAAoB,GACrD,AAAA,EAAmB,YAAa,QAChC,EAAS,GACF,CAAA,GACE,GAAoB,GAAK,GAAmB,GACrD,AAAA,EAAmB,QAAS,QAC5B,EAAS,GACF,CAAA,UAgBX,EAAS,GAET,EAAU,gBAAgB,CAAC,QAAS,GACpC,EAAgB,gBAAgB,CAAC,QAAS,GAC1C,EAAQ,gBAAgB,CAAC,QAAS,GAElC,EAAS,gBAAgB,CAAC,QAAS,EAAS,IAAI,CAAA,KAAA,EAAO,IAEvD,EAAQ,gBAAgB,CAAC,QApBe,KACtC,EAAU,mBAAmB,CAAC,QAAS,GACvC,EAAgB,mBAAmB,CAAC,QAAS,GAC7C,EAAQ,mBAAmB,CAAC,QAAS,GACrC,EAAS,mBAAmB,CAAC,QAAS,EAAS,IAAI,CAAA,KAAA,EAAO,IAC1D,EAAQ,mBAAmB,CAAC,QAAS,GACrC,AAAA,IACA,WAAW,KACT,AAAA,GACF,EAAG,IACL,EAWF,EHpHM,EAAa,SAAS,cAAc,CAAC,eACrC,EAAiB,SAAS,cAAc,CAAC,mBAEzC,EAAN,0CAKM,EAAY,AAAC,IACjB,EAAK,KAAK,EACZ,EAEa,EAAqB,CAAC,EAAM,EAAO,OAAO,IACrD,IAAM,EAAe,SAAS,aAAa,CAAC,iBACtC,EAAmB,SAAS,aAAa,CAAC,qBAEhD,EAAa,SAAS,CAAC,MAAM,CAAC,UAC9B,EAAiB,SAAS,CAAC,MAAM,CAAC,oBAClC,EAAiB,SAAS,CAAG,CAAC,EAAE,EAAK,CAAC,CAEtC,IAAM,EAAsB,KAC1B,EAAiB,SAAS,CAAG,GAC7B,EAAa,SAAS,CAAC,MAAM,CAAC,UAC9B,EAAiB,SAAS,CAAC,MAAM,CAAC,oBAClC,OAAO,mBAAmB,CAAC,UAAW,EACxC,CAEI,AAAS,CAAA,SAAT,EACF,OAAO,gBAAgB,CAAC,UAAW,GAEnC,WAAW,EAAqB,IAEpC,EAEa,EAAmB,KAC9B,SAAS,aAAa,CAAC,OAAO,SAAS,CAAC,MAAM,CAAC,YAC/C,SAAS,aAAa,CAAC,SAAS,SAAS,CAAC,MAAM,CAAC,aACnD,EAEa,EAAuB,AAAC,IACnC,EAAM,cAAc,GACpB,IAAM,EAAa,SAAS,cAAc,CAAC,eAC3C,MAAM,CAAC,EAAE,EAAW,YAAY,CAAC,CAAE,CACjC,OAAQ,OACR,QAAS,CACP,eAAgB,kBAClB,EACA,KAAM,KAAK,SAAS,CAAC,CACnB,KAAM,EAAW,IAAI,CAAC,KAAK,CAAC,WAAW,GACvC,GAAI,EAAW,EAAE,CAAC,KAAK,CACvB,OAAQ,EAAW,MAAM,CAAC,KAAK,CAC/B,WAAY,AAAA,EACV,EAAW,EAAE,CAAC,KAAK,CACnB,EAAW,MAAM,CAAC,KAAK,CAE3B,EACF,GACG,IAAI,CAAC,AAAC,IACL,GAAI,AAAoB,MAApB,EAAS,MAAM,CACjB,MAAM,AAAI,MAAM,2BACX,GAAI,AAAoB,MAApB,EAAS,MAAM,CACxB,MAAM,AAAI,MAAM,kBAElB,OAAO,EAAS,IAAI,EACtB,GACC,IAAI,CAAC,AAAC,IACL,GAAI,CAAC,EAAK,EAAE,CAAE,CACZ,EAAmB,qBACnB,EAAU,GACV,MACF,CAEA,EAAmB,oBACnB,OAAO,YAAY,CAAC,OAAO,CAAC,eAAgB,KAAK,SAAS,CAAC,EAAK,EAAE,GAClE,EAAU,EACZ,GACC,KAAK,CAAC,AAAC,IACN,QAAQ,KAAK,CAAC,GACd,EAAmB,EACrB,EACJ,EAEa,EAAoB,AAAC,QAO5B,EANJ,EAAM,cAAc,GACpB,IAAM,EAAiB,SAAS,cAAc,CAAC,mBACzC,EAAa,EAAe,aAAa,CAC7C,oCACA,KAAK,CAGP,GAAI,CACF,EAAgB,KAAK,KAAK,CAAC,OAAO,YAAY,CAAC,OAAO,CAAC,gBACzD,CAAE,MAAO,EAAO,CACd,IAAM,EAAU,CAAC,gCAAgC,EAAE,EAAM,CAAC,CAC1D,QAAQ,KAAK,CAAC,GACd,EAAmB,GACnB,MACF,CAEI,AAAe,SAAf,GAAyB,EAC3B,MAAM,CAAC,EAAE,EAAW,aAAa,EAAE,EAAc,CAAC,EAC/C,IAAI,CAAC,AAAC,IACL,GAAI,AAAoB,MAApB,EAAS,MAAM,CACjB,MAAM,AAAI,MACR,yDAEG,GAAI,AAAoB,MAApB,EAAS,MAAM,CACxB,MAAM,AAAI,MAAM,kBAElB,OAAO,EAAS,IAAI,EACtB,GACC,IAAI,CAAC,AAAC,IACL,OAAO,aAAa,CAAG,CACrB,KAAM,EAAK,IAAI,CACf,GAAI,EAAK,EAAE,CACX,OAAQ,EAAK,MAAM,AACrB,EACA,EAAW,mBAAmB,CAAC,SAAU,GACzC,EAAe,mBAAmB,CAAC,SAAU,GAC7C,IACA,WAAW,KACT,AAAA,IACA,AAAA,GACF,EAAG,IACL,GACC,KAAK,CAAC,AAAC,IACN,QAAQ,KAAK,CAAC,GACd,EAAmB,EACrB,GAEF,MAAM,CAAC,EAAE,EAAW,SAAS,EAAE,EAAW,CAAC,EACxC,IAAI,CAAC,AAAC,IACL,GAAI,AAAoB,MAApB,EAAS,MAAM,CACjB,MAAM,AAAI,MACR,uEAEG,GAAI,AAAoB,MAApB,EAAS,MAAM,CACxB,MAAM,AAAI,MAAM,kBAGlB,OAAO,EAAS,IAAI,EACtB,GACC,IAAI,CAAC,AAAC,IACL,OAAO,aAAa,CAAG,CACrB,KAAM,EAAK,IAAI,CACf,GAAI,EAAK,EAAE,CACX,OAAQ,EAAK,MAAM,AACrB,EACA,EAAW,mBAAmB,CAAC,SAAU,GACzC,EAAe,mBAAmB,CAAC,SAAU,GAC7C,IACA,WAAW,KACT,AAAA,IACA,AAAA,GACF,EAAG,IACL,GACC,KAAK,CAAC,AAAC,IACN,QAAQ,KAAK,CAAC,GACd,EAAmB,EACrB,EAEN,EAEA,EAAW,gBAAgB,CAAC,SAAU,GACtC,EAAe,gBAAgB,CAAC,SAAU","sources":["<anon>","src/assets/scripts/createMonster.js","src/assets/scripts/renderMonster.js","src/assets/scripts/difficulty.js","src/assets/scripts/fightMonster.js","src/assets/scripts/renderHome.js"],"sourcesContent":["\nconst $912bcc66b3d0a9c8$export$f0d50f18ff854c8 = ()=>{\n    const mainBody = document.getElementById(\"background\");\n    mainBody.innerHTML = \"\";\n    mainBody.innerHTML = `\r\n    <section>\r\n    <section class=\"up up-close\">\r\n      <h1 class=\"monster-name\">${randomMonster.name} HP:</h1>\r\n      <progress id=\"monster-hp\" max=\"\" value=\"\"></progress>\r\n      <h1 class=\"player\">Your HP:</h1>\r\n      <progress id=\"player-hp\" max=\"\" value=\"\"></progress>\r\n      <div class=\"fight-container\">\r\n        <button id=\"att-btn\" class=\"fight-btn\">Attack</button>\r\n        <button id=\"heavy-att-btn\" class=\"fight-btn\">Heavy Attack</button>\r\n      </div>\r\n    </section>\r\n    </section>\r\n    <section>\r\n    <section class=\"down down-close\">\r\n      <div class=\"heal\">\r\n        <button id=\"heal-btn\" class=\"fight-btn\">Heal</button>\r\n      </div>\r\n      <button id=\"retry-btn\">Retry</button>\r\n      <button id=\"home-btn\">Create another monster</button>\r\n    </section>\r\n    </section>\r\n  `;\n    setTimeout(()=>{\n        (0, $ff61878793a5b18a$export$140da1491b3b2cd6)();\n    }, 100);\n};\n\n\nconst $dede7424aab56b68$export$885701749d66d098 = (hp, damage)=>{\n    if (damage <= 12 && hp <= 70 || damage <= 7 && hp <= 130 || damage <= 30 && hp <= 25) return \"easy\";\n    else if (damage <= 15 && hp <= 80 || damage <= 9 && hp <= 140 || damage <= 30 && hp <= 35) return \"medium\";\n    else return \"hard\";\n};\n\n\n\nconst $83e80d15ac785698$export$5e5c8210e5686582 = ()=>{\n    const mainBody = document.getElementById(\"background\");\n    mainBody.innerHTML = \"\";\n    mainBody.innerHTML = `\r\n  <section>\r\n  <section class=\"up up-close\">\r\n      <h1 class=\"top-heading\">Create your monster</h1>\r\n      <form id=\"form-create\">\r\n        <label for=\"name\">Name:</label>\r\n        <input id=\"name\" type=\"text\" pattern=\"[a-zA-Z0-9\\s]{2,20}\" title=\"2 to 20 letters, no special characters\" required=\"required\" autocomplete=\"off\">\r\n        <label for=\"HP\">HP:</label>\r\n        <input id=\"HP\" type=\"number\" min=\"15\" max=\"160\">\r\n        <label for=\"damage\">Damage:</label>\r\n        <input id=\"damage\" type=\"number\" min=\"5\" max=\"30\">\r\n        <button type=\"submit\">Create</button>\r\n      </form>\r\n      <!-- <div class=\"border\"></div> -->\r\n    </section>\r\n    </section>\r\n    <section>\r\n    <section class=\"down down-close\">\r\n      <h1 class=\"bottom-heading\">Select difficulty:</h1>\r\n      <form id=\"form-difficulty\">\r\n          <ul>\r\n            <li>\r\n              <input name=\"difficulty\" id=\"easy\" value=\"easy\" type=\"radio\" checked=\"checked\" class=\"circle\">\r\n              <label for=\"easy\">Easy</label>\r\n            </li>\r\n            <li>\r\n              <input name=\"difficulty\" id=\"medium\" value=\"medium\" type=\"radio\" class=\"circle\">\r\n              <label for=\"medium\">Medium</label>\r\n              </li>\r\n              <li>\r\n                <input name=\"difficulty\" id=\"hard\" value=\"hard\" type=\"radio\" class=\"circle\">\r\n                <label for=\"hard\">Hard</label>\r\n              </li>\r\n              <li class=\"last\">\r\n                <input name=\"difficulty\" id=\"last\" value=\"last\" type=\"radio\" class=\"circle\">\r\n                <label for=\"last\">Last Created</label>\r\n              </li>\r\n              <li class=\"last\">\r\n                <button id=\"fight-monster-btn\" type=\"submit\">Fight monster</button>\r\n              </li>\r\n            </ul>\r\n        </form>\r\n    </section>\r\n    </section>\r\n`;\n    setTimeout(()=>{\n        (0, $ff61878793a5b18a$export$140da1491b3b2cd6)();\n    }, 100);\n    const formCreate = document.getElementById(\"form-create\");\n    const formDifficulty = document.getElementById(\"form-difficulty\");\n    const difficulty = formDifficulty.querySelector('input[name=\"difficulty\"]:checked').value;\n    formCreate.addEventListener(\"submit\", (0, $ff61878793a5b18a$export$8e786901b16f7618));\n    formDifficulty.addEventListener(\"submit\", (0, $ff61878793a5b18a$export$6eecf847c1df14d4));\n};\n\n\n\nconst $89d43fa0d9797aab$export$f6c0800a21dbd2f3 = ()=>{\n    let monsterMaxHp = +randomMonster.HP;\n    let monsterDamage = +randomMonster.damage;\n    let currentMonsterHp;\n    const playerMaxHp = 100;\n    const playerDamage = 10;\n    let currentPlayerHp;\n    let healUses;\n    const monsterHpProg = document.getElementById(\"monster-hp\");\n    const playerHpProg = document.getElementById(\"player-hp\");\n    const attackBtn = document.getElementById(\"att-btn\");\n    const heavyAttackkBtn = document.getElementById(\"heavy-att-btn\");\n    const healBtn = document.getElementById(\"heal-btn\");\n    const retryBtn = document.getElementById(\"retry-btn\");\n    const homeBtn = document.getElementById(\"home-btn\");\n    const setMaxHp = (monsterHp)=>{\n        monsterHpProg.max = monsterHp;\n        monsterHpProg.value = monsterHp;\n        currentMonsterHp = monsterHp;\n        playerHpProg.max = playerMaxHp;\n        playerHpProg.value = playerMaxHp;\n        currentPlayerHp = playerMaxHp;\n        healUses = true;\n    };\n    const randomDamage = ()=>{\n        return Math.round((Math.random() - 0.5) * 10);\n    };\n    const monsterAttack = ()=>{\n        let monsterDmg = monsterDamage + randomDamage();\n        if (monsterDmg < 0) monsterDmg = 0;\n        currentPlayerHp -= monsterDmg;\n        playerHpProg.value = currentPlayerHp;\n    };\n    const playerAttack = ()=>{\n        let playerDmg = playerDamage + randomDamage();\n        currentMonsterHp -= playerDmg;\n        monsterHpProg.value = currentMonsterHp;\n        monsterAttack();\n        checkWin();\n    };\n    const playerHeavyAtt = ()=>{\n        let playerDmg = playerDamage * 1.8 + randomDamage();\n        currentMonsterHp -= playerDmg;\n        monsterHpProg.value = currentMonsterHp;\n        monsterAttack();\n        if (checkWin()) return;\n        else {\n            monsterAttack();\n            checkWin();\n        }\n    };\n    const playerHeal = ()=>{\n        if (healUses) {\n            currentPlayerHp += 45 + randomDamage();\n            if (currentPlayerHp >= playerMaxHp) {\n                currentPlayerHp = playerMaxHp;\n                playerHpProg.value = currentPlayerHp;\n            } else playerHpProg.value = currentPlayerHp;\n            healUses = false;\n            monsterAttack();\n            checkWin();\n        } else (0, $ff61878793a5b18a$export$d51ecfd59347f0d8)(\"No healing uses left\", \"stay\");\n    };\n    const checkWin = ()=>{\n        if (currentMonsterHp <= 0 && currentPlayerHp >= 0) {\n            (0, $ff61878793a5b18a$export$d51ecfd59347f0d8)(\"You won!\", \"stay\");\n            setMaxHp(monsterMaxHp);\n            return true;\n        } else if (currentPlayerHp <= 0 && currentMonsterHp >= 0) {\n            (0, $ff61878793a5b18a$export$d51ecfd59347f0d8)(\"You lost!\", \"stay\");\n            setMaxHp(monsterMaxHp);\n            return true;\n        } else if (currentMonsterHp <= 0 && currentPlayerHp <= 0) {\n            (0, $ff61878793a5b18a$export$d51ecfd59347f0d8)(\"Draw!\", \"stay\");\n            setMaxHp(monsterMaxHp);\n            return true;\n        }\n    };\n    const clearListenersRenderHomeHandler = ()=>{\n        attackBtn.removeEventListener(\"click\", playerAttack);\n        heavyAttackkBtn.removeEventListener(\"click\", playerHeavyAtt);\n        healBtn.removeEventListener(\"click\", playerHeal);\n        retryBtn.removeEventListener(\"click\", setMaxHp.bind(undefined, monsterMaxHp));\n        homeBtn.removeEventListener(\"click\", (0, $83e80d15ac785698$export$5e5c8210e5686582));\n        (0, $ff61878793a5b18a$export$140da1491b3b2cd6)();\n        setTimeout(()=>{\n            (0, $83e80d15ac785698$export$5e5c8210e5686582)();\n        }, 600);\n    };\n    setMaxHp(monsterMaxHp);\n    attackBtn.addEventListener(\"click\", playerAttack);\n    heavyAttackkBtn.addEventListener(\"click\", playerHeavyAtt);\n    healBtn.addEventListener(\"click\", playerHeal);\n    retryBtn.addEventListener(\"click\", setMaxHp.bind(undefined, monsterMaxHp));\n    homeBtn.addEventListener(\"click\", clearListenersRenderHomeHandler);\n};\n\n\nconst $ff61878793a5b18a$var$formCreate = document.getElementById(\"form-create\");\nconst $ff61878793a5b18a$var$formDifficulty = document.getElementById(\"form-difficulty\");\nconst $ff61878793a5b18a$var$backendUrl = \"https://monster-rng-latest.onrender.com\";\nconst $ff61878793a5b18a$var$clearForm = (form)=>{\n    form.reset();\n};\nconst $ff61878793a5b18a$export$d51ecfd59347f0d8 = (text, type = \"timed\")=>{\n    const notification = document.querySelector(\".notification\");\n    const notificationText = document.querySelector(\"#notificationType\");\n    notification.classList.toggle(\"active\");\n    notificationText.classList.toggle(\"notificationText\");\n    notificationText.innerText = `${text}`;\n    const notificationHandler = ()=>{\n        notificationText.innerText = ``;\n        notification.classList.toggle(\"active\");\n        notificationText.classList.toggle(\"notificationText\");\n        window.removeEventListener(\"mouseup\", notificationHandler);\n    };\n    if (type === \"stay\") window.addEventListener(\"mouseup\", notificationHandler);\n    else setTimeout(notificationHandler, 2000);\n};\nconst $ff61878793a5b18a$export$140da1491b3b2cd6 = ()=>{\n    document.querySelector(\".up\").classList.toggle(\"up-close\");\n    document.querySelector(\".down\").classList.toggle(\"down-close\");\n};\nconst $ff61878793a5b18a$export$8e786901b16f7618 = (event)=>{\n    event.preventDefault();\n    const formCreate = document.getElementById(\"form-create\");\n    fetch(`${$ff61878793a5b18a$var$backendUrl}/add-monster`, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            name: formCreate.name.value.toUpperCase(),\n            HP: formCreate.HP.value,\n            damage: formCreate.damage.value,\n            difficulty: (0, $dede7424aab56b68$export$885701749d66d098)(formCreate.HP.value, formCreate.damage.value)\n        })\n    }).then((response)=>{\n        if (response.status === 400) throw new Error(\"Too crazy monster stats\");\n        else if (response.status === 500) throw new Error(\"Server is down\");\n        return response.json();\n    }).then((data)=>{\n        if (!data.id) {\n            $ff61878793a5b18a$export$d51ecfd59347f0d8(\"Monster has no ID\");\n            $ff61878793a5b18a$var$clearForm(formCreate);\n            return;\n        }\n        $ff61878793a5b18a$export$d51ecfd59347f0d8(\"Monster created!\");\n        window.localStorage.setItem(\"last created\", JSON.stringify(data.id));\n        $ff61878793a5b18a$var$clearForm(formCreate);\n    }).catch((error)=>{\n        console.error(error);\n        $ff61878793a5b18a$export$d51ecfd59347f0d8(error);\n    });\n};\nconst $ff61878793a5b18a$export$6eecf847c1df14d4 = (event)=>{\n    event.preventDefault();\n    const formDifficulty = document.getElementById(\"form-difficulty\");\n    const difficulty = formDifficulty.querySelector('input[name=\"difficulty\"]:checked').value;\n    let lastCreatedId;\n    try {\n        lastCreatedId = JSON.parse(window.localStorage.getItem(\"last created\"));\n    } catch (error) {\n        const message = `No last created monster found\", ${error}`;\n        console.error(message);\n        $ff61878793a5b18a$export$d51ecfd59347f0d8(message);\n        return;\n    }\n    if (difficulty === \"last\" && lastCreatedId) fetch(`${$ff61878793a5b18a$var$backendUrl}/lastcreated/${lastCreatedId}`).then((response)=>{\n        if (response.status === 404) throw new Error(\"Your last created monster escaped. Create another one\");\n        else if (response.status === 500) throw new Error(\"Server is down\");\n        return response.json();\n    }).then((data)=>{\n        window.randomMonster = {\n            name: data.name,\n            HP: data.hp,\n            damage: data.damage\n        };\n        $ff61878793a5b18a$var$formCreate.removeEventListener(\"submit\", $ff61878793a5b18a$export$8e786901b16f7618);\n        formDifficulty.removeEventListener(\"submit\", $ff61878793a5b18a$export$6eecf847c1df14d4);\n        $ff61878793a5b18a$export$140da1491b3b2cd6();\n        setTimeout(()=>{\n            (0, $912bcc66b3d0a9c8$export$f0d50f18ff854c8)();\n            (0, $89d43fa0d9797aab$export$f6c0800a21dbd2f3)();\n        }, 600);\n    }).catch((error)=>{\n        console.error(error);\n        $ff61878793a5b18a$export$d51ecfd59347f0d8(error);\n    });\n    else fetch(`${$ff61878793a5b18a$var$backendUrl}/monster/${difficulty}`).then((response)=>{\n        if (response.status === 404) throw new Error(\"Could not find monster with selected difficulty, please create more\");\n        else if (response.status === 500) throw new Error(\"Server is down\");\n        return response.json();\n    }).then((data)=>{\n        window.randomMonster = {\n            name: data.name,\n            HP: data.hp,\n            damage: data.damage\n        };\n        $ff61878793a5b18a$var$formCreate.removeEventListener(\"submit\", $ff61878793a5b18a$export$8e786901b16f7618);\n        formDifficulty.removeEventListener(\"submit\", $ff61878793a5b18a$export$6eecf847c1df14d4);\n        $ff61878793a5b18a$export$140da1491b3b2cd6();\n        setTimeout(()=>{\n            (0, $912bcc66b3d0a9c8$export$f0d50f18ff854c8)();\n            (0, $89d43fa0d9797aab$export$f6c0800a21dbd2f3)();\n        }, 600);\n    }).catch((error)=>{\n        console.error(error);\n        $ff61878793a5b18a$export$d51ecfd59347f0d8(error);\n    });\n};\n$ff61878793a5b18a$var$formCreate.addEventListener(\"submit\", $ff61878793a5b18a$export$8e786901b16f7618);\n$ff61878793a5b18a$var$formDifficulty.addEventListener(\"submit\", $ff61878793a5b18a$export$6eecf847c1df14d4);\n\n\n//# sourceMappingURL=index.0043c297.js.map\n","import { renderMonster } from \"./renderMonster.js\";\r\nimport { determineDifficulty } from \"./difficulty.js\";\r\nimport { fightMonster } from \"./fightMonster.js\";\r\n\r\nconst formCreate = document.getElementById(\"form-create\");\r\nconst formDifficulty = document.getElementById(\"form-difficulty\");\r\n\r\nconst backendUrl =\r\nprocess.env.NODE_ENV === \"production\"\r\n? process.env.BACKEND_URL\r\n: \"http://localhost:8000\";\r\n\r\nconst clearForm = (form) => {\r\n  form.reset();\r\n};\r\n\r\nexport const notificationToggle = (text, type = \"timed\") => {\r\n  const notification = document.querySelector(\".notification\");\r\n  const notificationText = document.querySelector(\"#notificationType\");\r\n\r\n  notification.classList.toggle(\"active\");\r\n  notificationText.classList.toggle(\"notificationText\");\r\n  notificationText.innerText = `${text}`;\r\n\r\n  const notificationHandler = () => {\r\n    notificationText.innerText = ``;\r\n    notification.classList.toggle(\"active\");\r\n    notificationText.classList.toggle(\"notificationText\");\r\n    window.removeEventListener(\"mouseup\", notificationHandler);\r\n  };\r\n\r\n  if (type === \"stay\") {\r\n    window.addEventListener(\"mouseup\", notificationHandler);\r\n  } else {\r\n    setTimeout(notificationHandler, 2000);\r\n  }\r\n};\r\n\r\nexport const closingAnimation = () => {\r\n  document.querySelector(\".up\").classList.toggle(\"up-close\");\r\n  document.querySelector(\".down\").classList.toggle(\"down-close\");\r\n};\r\n\r\nexport const createMonsterHandler = (event) => {\r\n  event.preventDefault();\r\n  const formCreate = document.getElementById(\"form-create\");\r\n  fetch(`${backendUrl}/add-monster`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      name: formCreate.name.value.toUpperCase(),\r\n      HP: formCreate.HP.value,\r\n      damage: formCreate.damage.value,\r\n      difficulty: determineDifficulty(\r\n        formCreate.HP.value,\r\n        formCreate.damage.value\r\n      ),\r\n    }),\r\n  })\r\n    .then((response) => {\r\n      if (response.status === 400) {\r\n        throw new Error(\"Too crazy monster stats\");\r\n      } else if (response.status === 500) {\r\n        throw new Error(\"Server is down\");\r\n      }\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      if (!data.id) {\r\n        notificationToggle(\"Monster has no ID\");\r\n        clearForm(formCreate);\r\n        return;\r\n      }\r\n\r\n      notificationToggle(\"Monster created!\");\r\n      window.localStorage.setItem(\"last created\", JSON.stringify(data.id));\r\n      clearForm(formCreate);\r\n    })\r\n    .catch((error) => {\r\n      console.error(error);\r\n      notificationToggle(error);\r\n    });\r\n};\r\n\r\nexport const getMonsterHandler = (event) => {\r\n  event.preventDefault();\r\n  const formDifficulty = document.getElementById(\"form-difficulty\");\r\n  const difficulty = formDifficulty.querySelector(\r\n    'input[name=\"difficulty\"]:checked'\r\n  ).value;\r\n\r\n  let lastCreatedId;\r\n  try {\r\n    lastCreatedId = JSON.parse(window.localStorage.getItem(\"last created\"));\r\n  } catch (error) {\r\n    const message = `No last created monster found\", ${error}`;\r\n    console.error(message);\r\n    notificationToggle(message);\r\n    return;\r\n  }\r\n\r\n  if (difficulty === \"last\" && lastCreatedId) {\r\n    fetch(`${backendUrl}/lastcreated/${lastCreatedId}`)\r\n      .then((response) => {\r\n        if (response.status === 404) {\r\n          throw new Error(\r\n            \"Your last created monster escaped. Create another one\"\r\n          );\r\n        } else if (response.status === 500) {\r\n          throw new Error(\"Server is down\");\r\n        }\r\n        return response.json();\r\n      })\r\n      .then((data) => {\r\n        window.randomMonster = {\r\n          name: data.name,\r\n          HP: data.hp,\r\n          damage: data.damage,\r\n        };\r\n        formCreate.removeEventListener(\"submit\", createMonsterHandler);\r\n        formDifficulty.removeEventListener(\"submit\", getMonsterHandler);\r\n        closingAnimation();\r\n        setTimeout(() => {\r\n          renderMonster();\r\n          fightMonster();\r\n        }, 600);\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n        notificationToggle(error);\r\n      });\r\n  } else {\r\n    fetch(`${backendUrl}/monster/${difficulty}`)\r\n      .then((response) => {\r\n        if (response.status === 404) {\r\n          throw new Error(\r\n            \"Could not find monster with selected difficulty, please create more\"\r\n          );\r\n        } else if (response.status === 500) {\r\n          throw new Error(\"Server is down\");\r\n        }\r\n\r\n        return response.json();\r\n      })\r\n      .then((data) => {\r\n        window.randomMonster = {\r\n          name: data.name,\r\n          HP: data.hp,\r\n          damage: data.damage,\r\n        };\r\n        formCreate.removeEventListener(\"submit\", createMonsterHandler);\r\n        formDifficulty.removeEventListener(\"submit\", getMonsterHandler);\r\n        closingAnimation();\r\n        setTimeout(() => {\r\n          renderMonster();\r\n          fightMonster();\r\n        }, 600);\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n        notificationToggle(error);\r\n      });\r\n  }\r\n};\r\n\r\nformCreate.addEventListener(\"submit\", createMonsterHandler);\r\nformDifficulty.addEventListener(\"submit\", getMonsterHandler);\r\n","import { closingAnimation } from \"./createMonster.js\";\r\n\r\nexport const renderMonster = () => {\r\n  const mainBody = document.getElementById(\"background\");\r\n  mainBody.innerHTML = \"\";\r\n  mainBody.innerHTML = `\r\n    <section>\r\n    <section class=\"up up-close\">\r\n      <h1 class=\"monster-name\">${randomMonster.name} HP:</h1>\r\n      <progress id=\"monster-hp\" max=\"\" value=\"\"></progress>\r\n      <h1 class=\"player\">Your HP:</h1>\r\n      <progress id=\"player-hp\" max=\"\" value=\"\"></progress>\r\n      <div class=\"fight-container\">\r\n        <button id=\"att-btn\" class=\"fight-btn\">Attack</button>\r\n        <button id=\"heavy-att-btn\" class=\"fight-btn\">Heavy Attack</button>\r\n      </div>\r\n    </section>\r\n    </section>\r\n    <section>\r\n    <section class=\"down down-close\">\r\n      <div class=\"heal\">\r\n        <button id=\"heal-btn\" class=\"fight-btn\">Heal</button>\r\n      </div>\r\n      <button id=\"retry-btn\">Retry</button>\r\n      <button id=\"home-btn\">Create another monster</button>\r\n    </section>\r\n    </section>\r\n  `;\r\n  setTimeout(() => {\r\n    closingAnimation();\r\n  }, 100);\r\n};\r\n","export const determineDifficulty = (hp, damage) => {\r\n  if (\r\n    (damage <= 12 && hp <= 70) ||\r\n    (damage <= 7 && hp <= 130) ||\r\n    (damage <= 30 && hp <= 25)\r\n  ) {\r\n    return \"easy\";\r\n  } else if (\r\n    (damage <= 15 && hp <= 80) ||\r\n    (damage <= 9 && hp <= 140) ||\r\n    (damage <= 30 && hp <= 35)\r\n  ) {\r\n    return \"medium\";\r\n  } else {\r\n    return \"hard\";\r\n  }\r\n};\r\n","import { renderHome } from \"./renderHome.js\";\r\nimport { closingAnimation, notificationToggle } from \"./createMonster.js\";\r\n\r\nexport const fightMonster = () => {\r\n  let monsterMaxHp = +randomMonster.HP;\r\n  let monsterDamage = +randomMonster.damage;\r\n  let currentMonsterHp;\r\n\r\n  const playerMaxHp = 100;\r\n  const playerDamage = 10;\r\n  let currentPlayerHp;\r\n  let healUses;\r\n\r\n  const monsterHpProg = document.getElementById(\"monster-hp\");\r\n  const playerHpProg = document.getElementById(\"player-hp\");\r\n  const attackBtn = document.getElementById(\"att-btn\");\r\n  const heavyAttackkBtn = document.getElementById(\"heavy-att-btn\");\r\n  const healBtn = document.getElementById(\"heal-btn\");\r\n  const retryBtn = document.getElementById(\"retry-btn\");\r\n  const homeBtn = document.getElementById(\"home-btn\");\r\n\r\n  const setMaxHp = (monsterHp) => {\r\n    monsterHpProg.max = monsterHp;\r\n    monsterHpProg.value = monsterHp;\r\n    currentMonsterHp = monsterHp;\r\n\r\n    playerHpProg.max = playerMaxHp;\r\n    playerHpProg.value = playerMaxHp;\r\n    currentPlayerHp = playerMaxHp;\r\n    healUses = true;\r\n  };\r\n\r\n  const randomDamage = () => {\r\n    return Math.round((Math.random() - 0.5) * 10);\r\n  };\r\n\r\n  const monsterAttack = () => {\r\n    let monsterDmg = monsterDamage + randomDamage();\r\n    if (monsterDmg < 0) {\r\n      monsterDmg = 0;\r\n    }\r\n    currentPlayerHp -= monsterDmg;\r\n    playerHpProg.value = currentPlayerHp;\r\n  };\r\n\r\n  const playerAttack = () => {\r\n    let playerDmg = playerDamage + randomDamage();\r\n    currentMonsterHp -= playerDmg;\r\n    monsterHpProg.value = currentMonsterHp;\r\n    monsterAttack();\r\n    checkWin();\r\n  };\r\n\r\n  const playerHeavyAtt = () => {\r\n    let playerDmg = playerDamage * 1.8 + randomDamage();\r\n    currentMonsterHp -= playerDmg;\r\n    monsterHpProg.value = currentMonsterHp;\r\n    monsterAttack();\r\n    if (checkWin()) {\r\n      return;\r\n    } else {\r\n      monsterAttack();\r\n      checkWin();\r\n    }\r\n  };\r\n\r\n  const playerHeal = () => {\r\n    if (healUses) {\r\n      currentPlayerHp += 45 + randomDamage();\r\n      if (currentPlayerHp >= playerMaxHp) {\r\n        currentPlayerHp = playerMaxHp;\r\n        playerHpProg.value = currentPlayerHp;\r\n      } else {\r\n        playerHpProg.value = currentPlayerHp;\r\n      }\r\n      healUses = false;\r\n      monsterAttack();\r\n      checkWin();\r\n    } else {\r\n      notificationToggle(\"No healing uses left\", \"stay\");\r\n    }\r\n  };\r\n\r\n  const checkWin = () => {\r\n    if (currentMonsterHp <= 0 && currentPlayerHp >= 0) {\r\n      notificationToggle(\"You won!\", \"stay\");\r\n      setMaxHp(monsterMaxHp);\r\n      return true;\r\n    } else if (currentPlayerHp <= 0 && currentMonsterHp >= 0) {\r\n      notificationToggle(\"You lost!\", \"stay\");\r\n      setMaxHp(monsterMaxHp);\r\n      return true;\r\n    } else if (currentMonsterHp <= 0 && currentPlayerHp <= 0) {\r\n      notificationToggle(\"Draw!\", \"stay\");\r\n      setMaxHp(monsterMaxHp);\r\n      return true;\r\n    }\r\n  };\r\n\r\n  const clearListenersRenderHomeHandler = () => {\r\n    attackBtn.removeEventListener(\"click\", playerAttack);\r\n    heavyAttackkBtn.removeEventListener(\"click\", playerHeavyAtt);\r\n    healBtn.removeEventListener(\"click\", playerHeal);\r\n    retryBtn.removeEventListener(\"click\", setMaxHp.bind(this, monsterMaxHp));\r\n    homeBtn.removeEventListener(\"click\", renderHome);\r\n    closingAnimation();\r\n    setTimeout(() => {\r\n      renderHome();\r\n    }, 600);\r\n  };\r\n\r\n  setMaxHp(monsterMaxHp);\r\n\r\n  attackBtn.addEventListener(\"click\", playerAttack);\r\n  heavyAttackkBtn.addEventListener(\"click\", playerHeavyAtt);\r\n  healBtn.addEventListener(\"click\", playerHeal);\r\n\r\n  retryBtn.addEventListener(\"click\", setMaxHp.bind(this, monsterMaxHp));\r\n\r\n  homeBtn.addEventListener(\"click\", clearListenersRenderHomeHandler);\r\n};\r\n","import { getMonsterHandler } from \"./createMonster.js\";\r\nimport { createMonsterHandler } from \"./createMonster.js\";\r\nimport { closingAnimation } from \"./createMonster.js\";\r\n\r\nexport const renderHome = () => {\r\n  const mainBody = document.getElementById(\"background\");\r\n  mainBody.innerHTML = \"\";\r\n  mainBody.innerHTML = `\r\n  <section>\r\n  <section class=\"up up-close\">\r\n      <h1 class=\"top-heading\">Create your monster</h1>\r\n      <form id=\"form-create\">\r\n        <label for=\"name\">Name:</label>\r\n        <input id=\"name\" type=\"text\" pattern=\"[a-zA-Z0-9\\s]{2,20}\" title=\"2 to 20 letters, no special characters\" required=\"required\" autocomplete=\"off\">\r\n        <label for=\"HP\">HP:</label>\r\n        <input id=\"HP\" type=\"number\" min=\"15\" max=\"160\">\r\n        <label for=\"damage\">Damage:</label>\r\n        <input id=\"damage\" type=\"number\" min=\"5\" max=\"30\">\r\n        <button type=\"submit\">Create</button>\r\n      </form>\r\n      <!-- <div class=\"border\"></div> -->\r\n    </section>\r\n    </section>\r\n    <section>\r\n    <section class=\"down down-close\">\r\n      <h1 class=\"bottom-heading\">Select difficulty:</h1>\r\n      <form id=\"form-difficulty\">\r\n          <ul>\r\n            <li>\r\n              <input name=\"difficulty\" id=\"easy\" value=\"easy\" type=\"radio\" checked=\"checked\" class=\"circle\">\r\n              <label for=\"easy\">Easy</label>\r\n            </li>\r\n            <li>\r\n              <input name=\"difficulty\" id=\"medium\" value=\"medium\" type=\"radio\" class=\"circle\">\r\n              <label for=\"medium\">Medium</label>\r\n              </li>\r\n              <li>\r\n                <input name=\"difficulty\" id=\"hard\" value=\"hard\" type=\"radio\" class=\"circle\">\r\n                <label for=\"hard\">Hard</label>\r\n              </li>\r\n              <li class=\"last\">\r\n                <input name=\"difficulty\" id=\"last\" value=\"last\" type=\"radio\" class=\"circle\">\r\n                <label for=\"last\">Last Created</label>\r\n              </li>\r\n              <li class=\"last\">\r\n                <button id=\"fight-monster-btn\" type=\"submit\">Fight monster</button>\r\n              </li>\r\n            </ul>\r\n        </form>\r\n    </section>\r\n    </section>\r\n`;\r\n  setTimeout(() => {\r\n    closingAnimation();\r\n  }, 100);\r\n  const formCreate = document.getElementById(\"form-create\");\r\n  const formDifficulty = document.getElementById(\"form-difficulty\");\r\n  const difficulty = formDifficulty.querySelector(\r\n    'input[name=\"difficulty\"]:checked'\r\n  ).value;\r\n\r\n  formCreate.addEventListener(\"submit\", createMonsterHandler);\r\n  formDifficulty.addEventListener(\"submit\", getMonsterHandler);\r\n};\r\n"],"names":["$912bcc66b3d0a9c8$export$f0d50f18ff854c8","mainBody","document","getElementById","innerHTML","randomMonster","name","setTimeout","$dede7424aab56b68$export$885701749d66d098","hp","damage","$83e80d15ac785698$export$5e5c8210e5686582","formCreate","formDifficulty","querySelector","value","addEventListener","$ff61878793a5b18a$export$8e786901b16f7618","$ff61878793a5b18a$export$6eecf847c1df14d4","$89d43fa0d9797aab$export$f6c0800a21dbd2f3","currentMonsterHp","currentPlayerHp","healUses","monsterMaxHp","HP","monsterDamage","monsterHpProg","playerHpProg","attackBtn","heavyAttackkBtn","healBtn","retryBtn","homeBtn","setMaxHp","monsterHp","max","randomDamage","Math","round","random","monsterAttack","monsterDmg","playerAttack","playerDmg","playerDamage","checkWin","playerHeavyAtt","playerHeal","bind","undefined","removeEventListener","$ff61878793a5b18a$var$formCreate","$ff61878793a5b18a$var$formDifficulty","$ff61878793a5b18a$var$backendUrl","$ff61878793a5b18a$var$clearForm","form","reset","$ff61878793a5b18a$export$d51ecfd59347f0d8","text","type","notification","notificationText","classList","toggle","innerText","notificationHandler","window","$ff61878793a5b18a$export$140da1491b3b2cd6","event","preventDefault","fetch","method","headers","body","JSON","stringify","toUpperCase","difficulty","then","response","status","Error","json","data","id","localStorage","setItem","catch","error","console","lastCreatedId","parse","getItem","message"],"version":3,"file":"index.0043c297.js.map"}